teste <- import_pop(enderecos_pop[num])
teste |> view()
num <- 1
import_pop <- function(endereco) {
df1 <- read.dbf(endereco)
df2 <- df1 |>
mutate(
total = sum(POPULACAO),
ano = ANO |> as.character()
) |>
select(total, ano) |>
slice(1)
return(df2)
}
teste <- import_pop(enderecos_pop[num])
teste |> view()
num <- 1
import_pop <- function(endereco) {
df1 <- read.dbf(endereco)
df2 <- df1 |>
mutate(
total = sum(POPULACAO),
ano = ANO |> as.character() |> as.numeric
) |>
select(total, ano) |>
slice(1)
return(df2)
}
num <- 1
import_pop <- function(endereco) {
df1 <- read.dbf(endereco)
df2 <- df1 |>
mutate(
total = sum(POPULACAO),
ano = ANO |> as.character() |> as.numeric()
) |>
select(total, ano) |>
slice(1)
return(df2)
}
teste <- import_pop(enderecos_pop[num])
teste |> view()
arrange_pop <- function() {
for (i in enderecos_pop) {
if("df_temp" |> exists()) {
df_temp <- rbind(df_temp,import_pop(i))
}
else {
df_temp <- import_pop(i)
}
}
return(df_temp)
}
arrange_pop()
library(tidyverse)
library(microdatasus)
library(obsplot)
library(knitr)
library(readxl)
library(foreign)
library(tidyverse)
library(microdatasus)
library(obsplot)
library(knitr)
library(readxl)
library(foreign)
enderecos_pop <- paste(
"dados_pop/poptcu/",
list.files("dados_pop/poptcu/"),
sep = ""
)
enderecos_pop
num <- 1
import_pop <- function(endereco) {
df1 <- read.dbf(endereco)
df2 <- df1 |>
mutate(
total = sum(POPULACAO),
ano = ANO |> as.character() |> as.numeric()
) |>
select(total, ano) |>
slice(1)
return(df2)
}
teste <- import_pop(enderecos_pop[num])
teste |> view()
arrange_pop <- function() {
for (i in enderecos_pop) {
if("df_temp" |> exists()) {
df_temp <- rbind(df_temp,import_pop(i))
}
else {
df_temp <- import_pop(i)
}
}
return(df_temp)
}
arrange_pop()
View(teste)
enderecos_pib <- list.files(
"dados_pib/"
)
enderecos_pib <- list.files(
"dados_pib/"
)
enderecos_pib
enderecos_pib <- list.files(
"dados_pib/dados_pib/"
)
enderecos_pib
enderecos_pib <- paste(
"dados_pib/dados_pib/",
list.files("dados_pib/dados_pib/"),
sep = ""
)
enderecos_pib
library(tidyverse)
library(microdatasus)
library(obsplot)
library(knitr)
library(readxl)
library(foreign)
library(tidyverse)
library(microdatasus)
library(obsplot)
library(knitr)
library(readxl)
library(foreign)
municipios <- read_csv("dados_pib/dados_pib/pip2002_2009.xls")
municipios <- read.csv(
"dados_pib/dados_pib/pip2002_2009.xls")
municipios <- read.csv(
"dados_pib/dados_pib/pip2002_2009.xls",
locale = locale(encoding = "latin1") )
municipios <- read.csv(
"dados_pib/dados_pib/pip2002_2009.xls",
locale = locale(encoding = "latin1") )
municipios <- read.csv(
"dados_pib/dados_pib/pip2002_2009.xls")
municipios <- read_excel(
"dados_pib/dados_pib/pip2002_2009.xls")
municipios
municipios <- read_excel("dados_pib/dados_pib/pip2002_2009.xls") |>
select(
Produto Interno
View(municipios)
View(municipios)
?rename_with()
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx")
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na()
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na()
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
names() <- slice(municipios,1)
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
names()
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na()
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1) |>
colnames() <- c("trim_ano","pib")
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1) |>
colnames() = c("trim_ano","pib")
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1) |>
col_names
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1) |>
colnames()
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na()
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios
colnames(municipios) <- c("trim_ano", "pib") |>
slice(1)
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib") |>
slice(1)
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib") |>
# municipios <- municipios |>
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
# municipios <- municipios |>
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios
municipios$trim_ano[1]
municipios$trim_ano[1]
municipios$trim_ano[1]
municipios$trim_ano[1]
municipios$trim_ano[1]
municipios$trim_ano[1]
municipios$trim_ano[1]
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
ano = trim_ano
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = trim_ano
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano, 5,7)
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano)
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17)
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |>
as.numeric()
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |>
as.numeric()
trim = str_sub(trim_ano,1,1)
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |>
as.numeric(),
trim = str_sub(trim_ano,1,1)
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric()
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
pib = pib |> as.numeric()
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
pib = pib |> as.numeric()
) |>
filter(
trim == 4
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
total = pib |> as.numeric()
) |>
filter(
trim == 4
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
total = pib |> as.numeric()
) |>
filter(
trim == 4
) |>
select(
total,
ano
)
municipios
municipios <- read_excel("dados_pib/dados_pib/tabela2072.xlsx") |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
total = pib |> as.numeric() * 1000000
) |>
filter(
trim == 4
) |>
select(
total,
ano
)
municipios
endereco <- "dados_pib/dados_pib/tabela2072.xlsx"
import_pib <- function(endereco) {
municipios <- read_excel(endereco) |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
total = pib |> as.numeric() * 1000000
) |>
filter(
trim == 4
) |>
select(
total,
ano
)
return(municipios)
}
municipios <- import_pib(endereco)
View(municipios)
endereco <- "dados_pib/dados_pib/tabela2072.xlsx"
import_pib <- function(endereco) {
municipios <- read_excel(endereco) |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
total = pib |> as.numeric()
) |>
filter(
trim == 4
) |>
select(
total,
ano
)
return(municipios)
}
municipios <- import_pib(endereco)
View(municipios)
View(municipios)
View(municipios)
endereco <- "dados_pib/dados_pib/tabela2072.xlsx"
import_pib <- function(endereco) {
municipios <- read_excel(endereco) |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
total = pib |> as.numeric() *1000000
) |>
filter(
trim == 4
) |>
select(
total,
ano
)
return(municipios)
}
municipios <- import_pib(endereco)
View(municipios)
?options()
options()
?options
options(scipen = 999)
endereco <- "dados_pib/dados_pib/tabela2072.xlsx"
import_pib <- function(endereco) {
municipios <- read_excel(endereco) |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
total = pib |> as.numeric() *1000000
) |>
filter(
trim == 4
) |>
select(
total,
ano
)
return(municipios)
}
municipios <- import_pib(endereco)
View(municipios)
View(municipios)
endereco <- "dados_pib/dados_pib/tabela2072.xlsx"
import_pib <- function(endereco) {
municipios <- read_excel(endereco) |>
drop_na() |>
slice(-1)
colnames(municipios) <- c("trim_ano", "pib")
municipios <- municipios |>
mutate(
ano = str_sub(trim_ano,14,17) |> as.numeric(),
trim = str_sub(trim_ano,1,1) |> as.numeric(),
total = pib |> as.numeric()
) |>
filter(
trim == 4
) |>
select(
total,
ano
)
return(municipios)
}
municipios <- import_pib(endereco)
